# Veritas Civica - AI Assistant Instructions

Veritas Civica is a Medium.com-inspired typography-focused publishing platform built with SvelteKit. The site features a sophisticated design system with serif typography, dark mode support, and components optimized for reading experiences. The platform showcases modern web publishing principles with accessible design patterns.

## How to Use These Instructions

This file contains core project information and references specialized workflow instructions. **Always reference the appropriate workflow file first** based on the user's request:

### Workflow-Specific Instructions
- **Site Design & UI**: [`.github/workflows/design-workflow.md`](.github/workflows/design-workflow.md) - For UI/UX improvements, component design, and visual updates
- **Development**: [`.github/workflows/development-workflow.md`](.github/workflows/development-workflow.md) - For feature development and code implementation
- **Testing**: [`.github/workflows/testing-workflow.md`](.github/workflows/testing-workflow.md) - For test creation and debugging
- **Deployment**: [`.github/workflows/deployment-workflow.md`](.github/workflows/deployment-workflow.md) - For build and deployment issues

### Fallback Usage
Use the core information below only when:
- No specialized workflow applies to the request
- You need basic project context for any workflow
- Encountering unexpected information not covered in workflow files

## Core Project Information

### Design Philosophy
Veritas Civica follows Medium.com's design principles:
- **Typography-First**: Serif fonts for readability and elegant content presentation
- **Reading Experience**: Optimized line lengths (65-75 characters), optimal line height (1.58), and generous white space
- **Dark Mode Support**: Complete light/dark theme implementation with smooth transitions
- **Accessibility**: WCAG-compliant color contrast and keyboard navigation
- **Minimalist Aesthetic**: Clean, distraction-free interface focused on content consumption

### Bootstrap and Build Commands
- `npm install` -- installs dependencies in ~8 seconds. Includes automatic `svelte-kit sync` via prepare script.
- `npm run build` -- builds for production in ~3-4 seconds. NEVER CANCEL. Set timeout to 30+ seconds for safety.
- `npm run build` with `BASE_PATH=/veritas-civica` -- builds for GitHub Pages deployment (same timing).

### Development Commands
- `npm run dev` -- starts development server in ~1 second.
- `npm run preview` -- previews production build (requires prior build).
- `npm run test` -- runs Playwright tests. **IMPORTANT**: Requires `npx playwright install --with-deps` first.
- `npm run test:ui` -- runs Playwright tests with UI mode.

## Technology Stack

### Core Technologies
- **SvelteKit** -- full-stack web framework with static adapter
- **Svelte 5** -- component framework with modern runes
- **Tailwind CSS v4** -- utility-first CSS framework
- **Vite** -- build tool and dev server

### Component System
- **Shadcn Svelte** -- accessible UI components with Medium.com-inspired styling
- **Typography Component** -- hierarchical text rendering with serif fonts and optimal spacing
- **Article Component** -- specialized component for long-form content presentation
- **Theme Toggle** -- seamless light/dark mode switching with CSS custom properties
- **Class Variance Authority** -- component variant management
- **Tailwind Merge** -- class conflict resolution
- **Lucide Svelte** -- icon library

## Project Structure

### Key Directories
- `src/` -- main source directory
- `src/lib/components/ui/` -- Shadcn Svelte UI components with Medium.com-inspired styling
  - `Typography.svelte` -- hierarchical text component with serif fonts
  - `Article.svelte` -- long-form content component with optimal reading layout
  - `ThemeToggle.svelte` -- light/dark mode switcher
  - `Navigation.svelte` -- site navigation with theme toggle
  - `Button.svelte`, `Card.svelte`, etc. -- core UI components
- `src/routes/` -- SvelteKit pages (+layout.svelte with theme management, +page.svelte with Medium-inspired content)
- `build/` -- static build output (generated by `npm run build`)
- `.github/workflows/` -- GitHub Actions for deployment and testing

### Important Files
- `package.json` -- defines npm scripts and dependencies
- `svelte.config.js` -- SvelteKit configuration with static adapter
- `tailwind.config.js` -- Tailwind CSS configuration with Medium.com-inspired design tokens
- `components.json` -- Shadcn Svelte component configuration
- `src/app.css` -- global styles with CSS custom properties for theming and typography

## Validation

### CRITICAL: After making any changes, ALWAYS perform these steps:
1. **Build**: Run `npm run build` and ensure it completes without errors
2. **Preview**: Run `npm run preview` and verify the site loads
3. **Functionality**: 
   - Homepage displays "Welcome to Veritas Civica" heading in serif font
   - "Start Reading" and "Write Your Story" buttons are clickable with Medium-green styling
   - Featured Stories section displays three article cards with proper hover effects
   - Typography showcase demonstrates serif headings and body text
   - Article component displays properly formatted long-form content
   - Dark mode toggle works correctly (changes background, text, and component colors)
   - All text maintains proper contrast ratios in both light and dark modes

## GitHub Pages Deployment

### BASE_PATH Requirement
- Use `BASE_PATH=/veritas-civica` for GitHub Pages builds
- Automatic deployment on push to main/master
- Available at https://terrence-giggy.github.io/veritas-civica/

## Common Development Patterns

### Typography Usage
- Use `<Typography as="h1" variant="h1">` for hierarchical headings
- Serif fonts automatically applied for content readability
- Line heights and spacing optimized for reading experience
- Color variants follow Medium.com's text hierarchy (primary, secondary, tertiary)

### Theme Management
- Dark mode implemented via CSS custom properties in `src/app.css`
- Use `<ThemeToggle />` component for user theme switching
- All colors defined as HSL custom properties for smooth transitions
- Theme state managed with Svelte 5 runes and localStorage persistence

### Component Imports
- Use `$lib/components/ui/ComponentName.svelte` pattern
- Edit components in `src/lib/components/ui/`
- Test changes with `npm run dev`
- New Typography and Article components for content-focused layouts

### Content Updates
- Main page content in `src/routes/+page.svelte` (Medium.com-inspired layout)
- Layout modifications in `src/routes/+layout.svelte` (includes Navigation with theme toggle)
- Global styles and theme definitions in `src/app.css`