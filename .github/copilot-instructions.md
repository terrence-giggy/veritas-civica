# Veritas Civica

Veritas Civica is a modern SvelteKit-based static website featuring Shadcn Svelte components, Tailwind CSS styling, and automated GitHub Pages deployment. The site showcases a component library with button variants and responsive design.

Always reference these instructions first and fallback to search or bash commands only when you encounter unexpected information that does not match the info here.

## Working Effectively

### Prerequisites
- Node.js 18+ (current system has Node.js 20.19.5)
- npm (current system has npm 10.8.2)

### Bootstrap and Build the Repository
- `npm install` -- installs dependencies in ~8 seconds. Includes automatic `svelte-kit sync` via prepare script.
- `npm run build` -- builds for production in ~3-4 seconds. NEVER CANCEL. Set timeout to 30+ seconds for safety.
- `npm run build` with `BASE_PATH=/veritas-civica` -- builds for GitHub Pages deployment (same timing).

### Development Workflow
- `npm run dev` -- starts development server at http://localhost:5173/ in ~1 second.
- `npm run preview` -- previews production build at http://localhost:4173/ (requires prior build).
- `npm run prepare` -- runs SvelteKit sync in ~0.6 seconds (automatically called by npm install).

### Testing
- `npm run test` -- runs Playwright tests. **IMPORTANT**: Requires `npx playwright install --with-deps` first, which may fail due to browser download issues in some environments.
- `npm run test:ui` -- runs Playwright tests with UI mode (same browser requirement).
- Playwright tests validate homepage content, navigation buttons, and card display.
- **NOTE**: If Playwright browser installation fails, manually validate functionality by running dev/preview servers and checking the website loads correctly.

## Manual Validation

### CRITICAL: End-to-End Validation Steps
After making any changes, ALWAYS perform these validation steps:

1. **Build Validation**: Run `npm run build` and ensure it completes without errors.
2. **Server Validation**: Run `npm run preview` and verify the site loads at http://localhost:4173/.
3. **Functionality Validation**: 
   - Verify the homepage displays "Welcome to Veritas Civica" heading.
   - Test that "Get Started" and "Learn More" buttons are clickable.
   - Confirm the three feature cards (Modern Design, Component Library, Static Performance) are visible.
   - Check the Component Showcase section displays button variants and sizes.
   - Verify all buttons in the showcase are interactive.

### Visual Validation
- The website displays a clean, modern design with Tailwind CSS styling.
- Features responsive grid layout with component showcase.
- All buttons should have proper hover states and be clickable.

## Project Structure

### Key Directories
- `src/` -- main source directory
- `src/lib/components/ui/` -- Shadcn Svelte UI components (Button, Card, CardHeader, CardTitle, CardContent)
- `src/routes/` -- SvelteKit pages (+layout.svelte, +page.svelte)
- `build/` -- static build output (generated by `npm run build`)
- `.github/workflows/` -- GitHub Actions for deployment and testing

### Important Files
- `package.json` -- defines npm scripts and dependencies
- `svelte.config.js` -- SvelteKit configuration with static adapter
- `vite.config.js` -- Vite build configuration
- `tailwind.config.js` -- Tailwind CSS configuration with custom design system
- `components.json` -- Shadcn Svelte component configuration
- `playwright.config.js` -- Playwright test configuration

## GitHub Actions CI/CD

### Deploy Workflow (.github/workflows/deploy.yml)
- Triggers on push to main/master branches
- Builds with `BASE_PATH=/veritas-civica` for GitHub Pages
- Deploys to https://terrence-giggy.github.io/veritas-civica/
- **Build timeout**: Uses standard GitHub Actions timeout (sufficient for ~3-4 second builds)

### Playwright Tests (.github/workflows/playwright.yml)
- Runs on push and pull requests to main/master
- **Test timeout**: 60 minutes (though tests typically complete much faster)
- Installs Playwright browsers with `npx playwright install --with-deps`
- Generates HTML test reports on failure

## Dependencies and Technology Stack

### Core Technologies
- **SvelteKit** -- full-stack web framework with static adapter
- **Svelte 5** -- component framework with modern runes
- **Tailwind CSS v4** -- utility-first CSS framework
- **Vite** -- build tool and dev server

### Component System
- **Shadcn Svelte** -- accessible UI components
- **Class Variance Authority** -- component variant management
- **Tailwind Merge** -- class conflict resolution
- **Lucide Svelte** -- icon library

### Testing
- **Playwright** -- end-to-end testing framework
- Tests run against built site at http://localhost:4173/

## Common Tasks

### Making Component Changes
- Edit components in `src/lib/components/ui/`
- Test changes with `npm run dev`
- Validate with `npm run build` and `npm run preview`
- Component imports use `$lib/components/ui/ComponentName.svelte` pattern

### Styling Changes
- Global styles in `src/app.css`
- Tailwind configuration in `tailwind.config.js`
- Uses CSS custom properties for design system consistency

### Content Updates
- Main page content in `src/routes/+page.svelte`
- Layout modifications in `src/routes/+layout.svelte`

## Build Output and Deployment

### Local Build
- Generates static files in `build/` directory
- Includes `index.html`, `robots.txt`, and `_app/` assets
- Optimized for static hosting services

### GitHub Pages
- Automatic deployment on push to main/master
- Uses BASE_PATH environment variable for proper routing
- Available at repository GitHub Pages URL

## Validation Checklist

Before completing any work, verify:
- [ ] `npm install` completes successfully
- [ ] `npm run build` completes without errors
- [ ] `npm run preview` starts and site loads at http://localhost:4173/
- [ ] Homepage displays correctly with all expected content
- [ ] Interactive elements (buttons) are functional
- [ ] Component showcase displays all variants
- [ ] No console errors in browser developer tools